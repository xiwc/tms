define("app",["exports","toastr","wurl","common/common-utils","tms-semantic-ui","lodash"],function(n,r,e,t){"use strict";function o(n){return n&&n.__esModule?n:{default:n}}function i(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.App=void 0;var a=o(r),d=o(e),s=o(t);n.App=function(){function n(){i(this,n),window.toastr=a.default,window.wurl=d.default,window.utils=s.default,this.init()}return n.prototype.init=function(){_.extend($.fn.form.settings.prompt,{empty:"{name}不能为空",checked:"{name}必须被勾选",email:"{name}必须是正确的邮件格式",url:"{name}必须是正确的URL格式",regExp:"{name}验证格式不正确",integer:"{name}必须为一个整数",decimal:"{name}必须为一个小数",number:"{name}必须设置为一个数字",is:'{name}必须符合规则"{ruleValue}"',isExactly:'{name}必须精确匹配"{ruleValue}"',not:'{name}不能设置为"{ruleValue}"',notExactly:'{name}不能准确设置为"{ruleValue}"',contain:'{name}需要包含"{ruleValue}"',containExactly:'{name}需要精确包含"{ruleValue}"',doesntContain:'{name}不能包含"{ruleValue}"',doesntContainExactly:'{name}不能精确包含"{ruleValue}"',minLength:"{name}必须至少包含{ruleValue}个字符",length:"{name}必须为{ruleValue}个字符",exactLength:"{name}必须为{ruleValue}个字符",maxLength:"{name}必须不能超过{ruleValue}个字符",match:"{name}必须匹配{ruleValue}字段",different:"{name}必须不同于{ruleValue}字段",creditCard:"{name}必须是一个正确的信用卡数字格式",minCount:"{name}必须至少包含{ruleValue}个选择项",exactCount:"{name}必须准确包含{ruleValue}个选择项",maxCount:"{name} 必须有{ruleValue}或者更少个选择项"})},n.prototype.configureRouter=function(n,r){n.map([{route:["pwd-reset"],name:"reset",moduleId:"user/user-pwd-reset",nav:!1,title:"密码重置"},{route:["register"],name:"register",moduleId:"user/user-register",nav:!1,title:"用户注册"},{route:["chat-direct/:username"],name:"chat-direct",moduleId:"chat/chat-direct",nav:!1,title:"私聊"},{route:["login"],name:"login",moduleId:"user/user-login",nav:!1,title:"登录"},{route:"",redirect:"chat-direct/admin"}]),this.router=r},n}()}),define("environment",["exports"],function(n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={debug:!1,testing:!1}}),define("main",["exports","./environment"],function(n,r){"use strict";function e(n){return n&&n.__esModule?n:{default:n}}function t(n){n.use.standardConfiguration().feature("resources"),o.default.debug&&n.use.developmentLogging(),o.default.testing&&n.use.plugin("aurelia-testing"),n.start().then(function(){return n.setRoot()})}Object.defineProperty(n,"__esModule",{value:!0}),n.configure=t;var o=e(r);Promise.config({warnings:{wForgottenReturn:!1}})}),define("chat/chat-direct",["exports","aurelia-framework","common/common-poll","marked","clipboard","dropzone","autosize","jquery.scrollto","common/common-plugin","timeago"],function(n,r,e,t,o,i,a){"use strict";function d(n){return n&&n.__esModule?n:{default:n}}function s(n,r,e,t){e&&Object.defineProperty(n,r,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(t):void 0})}function l(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function c(n,r,e,t,o){var i={};return Object.keys(t).forEach(function(n){i[n]=t[n]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=e.slice().reverse().reduce(function(e,t){return t(n,r,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(n,r,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0}),n.ChatDirect=void 0;var m,u,p=d(e),h=d(t),f=d(o),b=d(i),w=d(a);n.ChatDirect=(m=function(){function n(){l(this,n),s(this,"content",u,this),this.offset=-70,this.selfLink=utils.getBaseUrl()+wurl("path")+"#"+utils.getHash(),this.first=!0,this.last=!0,this.originalHref=wurl(),h.default.setOptions({breaks:!0}),b.default.autoDiscover=!1,new f.default(".tms-chat-direct .tms-clipboard").on("success",function(n){toastr.success("复制到剪贴板成功!")}).on("error",function(n){toastr.error("复制到剪贴板成功!")})}return n.prototype.convertMd=function(n){return _.each(n,function(n){n.contentMd=(0,h.default)(n.content)}),n},n.prototype.activate=function(n,r,e){this.markId=n.id,this.user=_.find(this.users,{username:n.username});var t=this.user?this.user.name:n.username;r.navModel.setTitle(t+" | 私聊 | TMS"),this.init(n.username),$(this.chatToDropdownRef).dropdown("set selected",this.chatTo),this.markId&&("pushState"in history?history.replaceState(null,"",utils.removeUrlQuery("id")):window.location.href=utils.removeUrlQuery("id"))},n.prototype.lastMoreHandler=function(){var n=this,r=_.first(this.chats).id;$.get("/admin/chat/direct/more",{last:!0,start:r,size:20,chatTo:this.chatTo},function(e){e.success?(n.chats=_.unionBy(_.reverse(n.convertMd(e.data)),n.chats),n.last=e.msgs[0]-e.data.length<=0,!n.last&&(n.lastCnt=e.msgs[0]-e.data.length),_.defer(function(){$("html,body").scrollTo(".tms-chat-direct .comments .comment[data-id="+r+"]",{offset:n.offset})})):toastr.error(e.data,"获取更多消息失败!")})},n.prototype.firstMoreHandler=function(){var n=this,r=_.last(this.chats).id;$.get("/admin/chat/direct/more",{last:!1,start:r,size:20,chatTo:this.chatTo},function(e){e.success?(n.chats=_.unionBy(n.chats,n.convertMd(e.data)),n.first=e.msgs[0]-e.data.length<=0,!n.first&&(n.firstCnt=e.msgs[0]-e.data.length),_.defer(function(){$("html,body").scrollTo(".tms-chat-direct .comments .comment[data-id="+r+"]",{offset:n.offset})})):toastr.error(e.data,"获取更多消息失败!")})},n.prototype.init=function(n){var r=this;this.chatTo=n;var e={size:20,chatTo:n};this.markId&&(e.id=this.markId),$.get("/admin/chat/direct/list",e,function(n){n.success?(r.chats=_.reverse(r.convertMd(n.data.content)),r.last=n.data.last,r.first=n.data.first,!r.last&&(r.lastCnt=n.data.totalElements-n.data.numberOfElements),!r.first&&(r.firstCnt=n.data.size*n.data.number),_.defer(function(){r.markId?$("html,body").scrollTo(".tms-chat-direct .comments .comment[data-id="+r.markId+"]",{offset:r.offset}):$("html,body").scrollTo("max")})):(toastr.error(n.data,"获取消息失败!"),window.location=utils.getBaseUrl()+wurl("path")+("#/login?redirect="+encodeURIComponent(r.originalHref)))}).always(function(n,e,t){"error"==e&&(window.location=utils.getBaseUrl()+wurl("path")+("#/login?redirect="+encodeURIComponent(r.originalHref)))})},n.prototype.bind=function(n){var r=this;$.get("/admin/user/loginUser",function(n){n.success?r.loginUser=n.data:toastr.error(n.data,"获取当前登录用户失败!")}),$.get("/admin/user/all",{enabled:!0},function(n){n.success?(r.users=n.data,r.user=_.find(r.users,{username:r.chatTo})):toastr.error(n.data,"获取全部用户失败!")}),p.default.start(function(){if(r.chats){var n=_.last(r.chats);$.get("/admin/chat/direct/latest",{id:n?n.id:0,chatTo:r.chatTo},function(n){if(n.success){if(0==n.data.length)return;r.chats=_.unionBy(r.chats,r.convertMd(n.data),"id"),_.defer(function(){$("html,body").scrollTo("max")})}else toastr.error(n.data,"轮询获取消息失败!")})}})},n.prototype.unbind=function(){p.default.stop()},n.prototype.chatToUserFilerKeyupHanlder=function(n){var r=this;if(_.each(this.users,function(n){n.hidden=n.username.indexOf(r.filter)==-1}),13===n.keyCode){var e=_.find(this.users,{hidden:!1});e&&(window.location=wurl("path")+("#/chat-direct/"+e.username))}},n.prototype.clearFilterHandler=function(){var n=this;this.filter="",_.each(this.users,function(r){r.hidden=r.username.indexOf(n.filter)==-1})},n.prototype.sendChatMsg=function(){var n=this;if(!this.sending){this.sending=!0,this.content=$(this.chatInputRef).val();var r=$('<div class="markdown-body"/>').html('<style>.markdown-body{font-size:14px;line-height:1.6}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a.absent{color:#C00}.markdown-body a.anchor{bottom:0;cursor:pointer;display:block;left:0;margin-left:-30px;padding-left:30px;position:absolute;top:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{cursor:text;font-weight:700;margin:20px 0 10px;padding:0;position:relative}.markdown-body h1 .mini-icon-link,.markdown-body h2 .mini-icon-link,.markdown-body h3 .mini-icon-link,.markdown-body h4 .mini-icon-link,.markdown-body h5 .mini-icon-link,.markdown-body h6 .mini-icon-link{color:#000;display:none}.markdown-body h1:hover a.anchor,.markdown-body h2:hover a.anchor,.markdown-body h3:hover a.anchor,.markdown-body h4:hover a.anchor,.markdown-body h5:hover a.anchor,.markdown-body h6:hover a.anchor{line-height:1;margin-left:-22px;padding-left:0;text-decoration:none;top:15%}.markdown-body h1:hover a.anchor .mini-icon-link,.markdown-body h2:hover a.anchor .mini-icon-link,.markdown-body h3:hover a.anchor .mini-icon-link,.markdown-body h4:hover a.anchor .mini-icon-link,.markdown-body h5:hover a.anchor .mini-icon-link,.markdown-body h6:hover a.anchor .mini-icon-link{display:inline-block}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{color:#000;font-size:28px}.markdown-body h2{border-bottom:1px solid #CCC;color:#000;font-size:24px}.markdown-body h3{font-size:18px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h6{color:#777;font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin:15px 0}.markdown-body hr{overflow:hidden;background:#e7e7e7;height:4px;padding:0;margin:16px 0;border:0;-moz-box-sizing:content-box;box-sizing:content-box}.markdown-body h1+p,.markdown-body h2+p,.markdown-body h3+p,.markdown-body h4+p,.markdown-body h5+p,.markdown-body h6+p,.markdown-body ol li>:first-child,.markdown-body ul li>:first-child{margin-top:0}.markdown-body hr:after{clear:both}.markdown-body a:first-child h1,.markdown-body a:first-child h2,.markdown-body a:first-child h3,.markdown-body a:first-child h4,.markdown-body a:first-child h5,.markdown-body a:first-child h6,.markdown-body>h1:first-child,.markdown-body>h1:first-child+h2,.markdown-body>h2:first-child,.markdown-body>h3:first-child,.markdown-body>h4:first-child,.markdown-body>h5:first-child,.markdown-body>h6:first-child{margin-top:0;padding-top:0}.markdown-body li p.first{display:inline-block}.markdown-body ol,.markdown-body ul{padding-left:30px}.markdown-body ol.no-list,.markdown-body ul.no-list{list-style-type:none;padding:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:14px;font-style:italic;font-weight:700;margin:15px 0 5px;padding:0}.markdown-body dl dt:first-child{padding:0}.markdown-body dl dt>:first-child{margin-top:0}.markdown-body dl dt>:last-child{margin-bottom:0}.markdown-body dl dd{margin:0 0 15px;padding:0 15px}.markdown-body blockquote>:first-child,.markdown-body dl dd>:first-child{margin-top:0}.markdown-body blockquote>:last-child,.markdown-body dl dd>:last-child{margin-bottom:0}.markdown-body blockquote{border-left:4px solid #DDD;color:#777;padding:0 15px}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{border:1px solid #CCC;padding:6px 13px}.markdown-body table tr{background-color:#FFF;border-top:1px solid #CCC}.markdown-body table tr:nth-child(2n){background-color:#F8F8F8}.markdown-body img{max-width:100%}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{border:1px solid #DDD;display:block;float:left;margin:13px 0 0;overflow:hidden;padding:7px;width:auto}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{clear:both;color:#333;display:block;padding:5px 0 0}.markdown-body span.align-center{clear:both;display:block;overflow:hidden}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{clear:both;display:block;overflow:hidden}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{background-color:#F8F8F8;border:1px solid #EAEAEA;border-radius:3px;margin:0 2px;padding:0 5px;white-space:nowrap}.markdown-body pre>code{background:none;border:none;margin:0;padding:0;white-space:pre}.markdown-body .highlight pre,.markdown-body pre{background-color:#F8F8F8;border:1px solid #CCC;border-radius:3px;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px}.markdown-body pre code,.markdown-body pre tt{background-color:transparent;border:none}</style>'+(0,h.default)(this.content)).wrap("<div/>").parent().html();$.post("/admin/chat/direct/create",{baseUrl:utils.getBaseUrl(),path:wurl("path"),chatTo:this.chatTo,content:this.content,contentHtml:r},function(r,e,t){r.success?($(n.chatInputRef).val(""),p.default.reset(),$(n.chatInputRef).css("height","auto")):toastr.error(r.data,"发送消息失败!")}).always(function(){n.sending=!1})}},n.prototype.sendKeydownHandler=function(n,r){return n.ctrlKey||13!==n.keyCode?(n.ctrlKey&&13===n.keyCode&&(this.insertTxt($(this.chatInputRef),"\n"),w.default.update(r)),!0):(this.sendChatMsg(),!1)},n.prototype.insertTxt=function(n,r){n.insertAtCaret(r)},n.prototype.deleteHandler=function(n){var r=this;this.emConfirmModal.show({onapprove:function(){$.post("/admin/chat/direct/delete",{id:n.id},function(e,t,o){e.success?(r.chats=_.reject(r.chats,{id:n.id}),toastr.success("删除消息成功!")):toastr.error(e.data,"删除消息失败!")})}})},n.prototype.editHandler=function(n,r){n.isEditing=!0,_.defer(function(){$(r).focus().select(),w.default.update(r)})},n.prototype.eidtKeydownHandler=function(n,r,e){var t=this;if(this.sending)return!1;if(!n.ctrlKey&&13===n.keyCode){this.sending=!0,r.content=$(e).val();var o=$('<div class="markdown-body"/>').html('<style>.markdown-body{font-size:14px;line-height:1.6}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a.absent{color:#C00}.markdown-body a.anchor{bottom:0;cursor:pointer;display:block;left:0;margin-left:-30px;padding-left:30px;position:absolute;top:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{cursor:text;font-weight:700;margin:20px 0 10px;padding:0;position:relative}.markdown-body h1 .mini-icon-link,.markdown-body h2 .mini-icon-link,.markdown-body h3 .mini-icon-link,.markdown-body h4 .mini-icon-link,.markdown-body h5 .mini-icon-link,.markdown-body h6 .mini-icon-link{color:#000;display:none}.markdown-body h1:hover a.anchor,.markdown-body h2:hover a.anchor,.markdown-body h3:hover a.anchor,.markdown-body h4:hover a.anchor,.markdown-body h5:hover a.anchor,.markdown-body h6:hover a.anchor{line-height:1;margin-left:-22px;padding-left:0;text-decoration:none;top:15%}.markdown-body h1:hover a.anchor .mini-icon-link,.markdown-body h2:hover a.anchor .mini-icon-link,.markdown-body h3:hover a.anchor .mini-icon-link,.markdown-body h4:hover a.anchor .mini-icon-link,.markdown-body h5:hover a.anchor .mini-icon-link,.markdown-body h6:hover a.anchor .mini-icon-link{display:inline-block}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{color:#000;font-size:28px}.markdown-body h2{border-bottom:1px solid #CCC;color:#000;font-size:24px}.markdown-body h3{font-size:18px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h6{color:#777;font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin:15px 0}.markdown-body hr{overflow:hidden;background:#e7e7e7;height:4px;padding:0;margin:16px 0;border:0;-moz-box-sizing:content-box;box-sizing:content-box}.markdown-body h1+p,.markdown-body h2+p,.markdown-body h3+p,.markdown-body h4+p,.markdown-body h5+p,.markdown-body h6+p,.markdown-body ol li>:first-child,.markdown-body ul li>:first-child{margin-top:0}.markdown-body hr:after{clear:both}.markdown-body a:first-child h1,.markdown-body a:first-child h2,.markdown-body a:first-child h3,.markdown-body a:first-child h4,.markdown-body a:first-child h5,.markdown-body a:first-child h6,.markdown-body>h1:first-child,.markdown-body>h1:first-child+h2,.markdown-body>h2:first-child,.markdown-body>h3:first-child,.markdown-body>h4:first-child,.markdown-body>h5:first-child,.markdown-body>h6:first-child{margin-top:0;padding-top:0}.markdown-body li p.first{display:inline-block}.markdown-body ol,.markdown-body ul{padding-left:30px}.markdown-body ol.no-list,.markdown-body ul.no-list{list-style-type:none;padding:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:14px;font-style:italic;font-weight:700;margin:15px 0 5px;padding:0}.markdown-body dl dt:first-child{padding:0}.markdown-body dl dt>:first-child{margin-top:0}.markdown-body dl dt>:last-child{margin-bottom:0}.markdown-body dl dd{margin:0 0 15px;padding:0 15px}.markdown-body blockquote>:first-child,.markdown-body dl dd>:first-child{margin-top:0}.markdown-body blockquote>:last-child,.markdown-body dl dd>:last-child{margin-bottom:0}.markdown-body blockquote{border-left:4px solid #DDD;color:#777;padding:0 15px}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{border:1px solid #CCC;padding:6px 13px}.markdown-body table tr{background-color:#FFF;border-top:1px solid #CCC}.markdown-body table tr:nth-child(2n){background-color:#F8F8F8}.markdown-body img{max-width:100%}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{border:1px solid #DDD;display:block;float:left;margin:13px 0 0;overflow:hidden;padding:7px;width:auto}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{clear:both;color:#333;display:block;padding:5px 0 0}.markdown-body span.align-center{clear:both;display:block;overflow:hidden}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{clear:both;display:block;overflow:hidden}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{background-color:#F8F8F8;border:1px solid #EAEAEA;border-radius:3px;margin:0 2px;padding:0 5px;white-space:nowrap}.markdown-body pre>code{background:none;border:none;margin:0;padding:0;white-space:pre}.markdown-body .highlight pre,.markdown-body pre{background-color:#F8F8F8;border:1px solid #CCC;border-radius:3px;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px}.markdown-body pre code,.markdown-body pre tt{background-color:transparent;border:none}</style>'+(0,h.default)(r.content)).wrap("<div/>").parent().html();return $.post("/admin/chat/direct/update",{baseUrl:utils.getBaseUrl(),path:wurl("path"),id:r.id,content:r.content,contentHtml:o},function(n,e,t){n.success?(toastr.success("更新消息成功!"),r.contentMd=(0,h.default)(r.content),r.isEditing=!1):toastr.error(n.data,"更新消息失败!")}).always(function(){t.sending=!1}),!1}if(n.ctrlKey&&13===n.keyCode){var i=$(n.target);i.insertAtCaret("\n"),w.default.update(e),r.content=i.val()}return!0},n.prototype.focusoutHandler=function(n){n.isEditing=!1},n.prototype.chatToUserFilerFocusinHanlder=function(){$(this.userListRef).scrollTo('a.item[data-id="'+this.chatTo+'"]')},n.prototype.initUploadDropzone=function(n,r,e){var t=this;$(n).dropzone({url:"/admin/file/upload",paramName:"file",clickable:!!e,dictDefaultMessage:"",previewsContainer:this.uploadProgressRef,previewTemplate:this.previewTemplateRef.innerHTML,init:function(){this.on("sending",function(n,e,t){r()||this.removeAllFiles(!0)}),this.on("success",function(n,e){e.success?($.each(e.data,function(n,e){"Image"==e.type?t.insertTxt($(r()),"![{name}]({baseURL}{path}{uuidName}) ".replace(/\{name\}/g,e.name).replace(/\{baseURL\}/g,utils.getBaseUrl()+"/").replace(/\{path\}/g,e.path).replace(/\{uuidName\}/g,e.uuidName)):t.insertTxt($(r()),"[{name}]({baseURL}{path}{uuidName}) ".replace(/\{name\}/g,e.name).replace(/\{baseURL\}/g,utils.getBaseUrl()+"/").replace(/\{path\}/g,"admin/file/download/").replace(/\{uuidName\}/g,e.id))}),toastr.success("上传成功!")):toastr.error(e.data,"上传失败!")}),this.on("error",function(n,r,e){toastr.error(r,"上传失败!")}),this.on("complete",function(n){this.removeFile(n)})}})},n.prototype.attached=function(){var n=this;this.initUploadDropzone(this.inputRef,function(){return n.chatInputRef},!1),this.initUploadDropzone($(this.btnItemUploadRef).children().andSelf(),function(){return n.chatInputRef},!0),_.delay(function(){$(n.userListRef).scrollTo('a.item[data-id="'+n.chatTo+'"]')},1e3);var r=timeago();this.timeagoTimer=setInterval(function(){$(n.chatContainerRef).find("[data-timeago]").each(function(n,e){$(e).text(r.format($(e).attr("data-timeago"),"zh_CN"))})},5e3),$(this.chatBtnRef).popup({inline:!0,hoverable:!0,position:"bottom left",delay:{show:300,hide:300}})},n.prototype.unbind=function(){clearInterval(this.timeagoTimer)},n.prototype.initChatToDropdownHandler=function(n){var r=this;n&&_.defer(function(){$(r.chatToDropdownRef).dropdown().dropdown("set selected",r.chatTo).dropdown({onChange:function(n,r,e){window.location=wurl("path")+("#/chat-direct/"+n)}})})},n.prototype.sendChatMsgHandler=function(){this.sendChatMsg()},n}(),u=c(m.prototype,"content",[r.bindable],{enumerable:!0,initializer:function(){return""}}),m)}),define("common/common-plugin",[],function(){"use strict";!function(n){n.fn.extend({insertAtCaret:function(r){var e=n(this)[0];if(document.selection)this.focus(),sel=document.selection.createRange(),sel.text=r,this.focus();else if(e.selectionStart||"0"==e.selectionStart){var t=e.selectionStart,o=e.selectionEnd,i=e.scrollTop;e.value=e.value.substring(0,t)+r+e.value.substring(o,e.value.length),this.focus(),e.selectionStart=t+r.length,e.selectionEnd=t+r.length,e.scrollTop=i}else this.value+=r,this.focus()}})}(jQuery)}),define("common/common-poll",["exports"],function(n){"use strict";function r(){if(!f)try{p&&p(o,t)}catch(n){h&&h(o,t,n),console.log("轮询异常: "+n)}}function e(){console.log("poll start..."),f=!1,r(),c=setInterval(function(){m++,r(),m>l&&(u=a+s*(m-l),u<=d&&(clearInterval(c),e()))},u)}function t(){console.log("poll stop..."),m=0,u=a,f=!1,clearInterval(c),c=null}function o(){console.log("poll reset..."),t(),e()}function i(){console.log("pause reset..."),f=!0}Object.defineProperty(n,"__esModule",{value:!0});var a=6e3,d=3e5,s=6e3,l=10,c=null,m=0,u=a,p=null,h=null,f=!1;n.default={start:function(n,r){c&&t(),p=n,h=r,e()},reset:function(){o()},stop:function(){t()},pause:function(){i()}}}),define("common/common-utils",["exports"],function(n){"use strict";function r(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var e=n.CommonUtils=function(){function n(){r(this,n)}return n.prototype.getBaseUrl=function(){return"function"==typeof wurl?80==wurl("port")||443==wurl("port")?wurl("protocol")+"://"+wurl("hostname"):wurl("protocol")+"://"+wurl("hostname")+":"+wurl("port"):""},n.prototype.getHash=function(){var n=wurl("hash"),r=n.indexOf("?");return r!=-1?n.substring(0,r):n},n.prototype.urlQuery=function(n){return wurl("?"+n)||wurl("?"+n,wurl("hash"))},n.prototype.removeUrlQuery=function(n,r){var e=r?r:window.location.href,t=new RegExp("(&|\\?)?"+n+"=?[^&#]*(.)?","g").exec(e);if(t){if("&"==t[1])return e.replace(new RegExp("&"+n+"=?[^&#]+","g"),"");if("?"==t[1])return"&"!=t[2]?e.replace(new RegExp("\\?"+n+"=?[^&#]*","g"),""):e.replace(new RegExp(""+n+"=?[^&#]*&","g"),"")}return e},n}();n.default=new e}),define("resources/config",["exports","aurelia-fetch-client","aurelia-framework","toastr","nprogress","isomorphic-fetch"],function(n,r,e,t,o){"use strict";function i(n){return n&&n.__esModule?n:{default:n}}function a(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Config=void 0;var d=i(t),s=i(o),l=n.Config=function(){function n(){a(this,n)}return n.prototype.initHttp=function(){return window.json=function(n){return console.log(JSON.stringify(n)),(0,r.json)(n)},window.http=this.aurelia.container.root.get(r.HttpClient),http.configure(function(n){n.withDefaults({credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"fetch"}}).withInterceptor({request:function(n){return s.default&&s.default.start(),n},requestError:function(n){console.log(n)},response:function(n){return s.default&&s.default.done(),n.ok||(n.json().then(function(n){d.default.error(n.message)}),401!=n.status)?n:void d.default.error("用户未登录!")},responseError:function(n){d.default.error(n.message,"网络请求错误!"),console.log(n)}})}),this},n.prototype.initToastr=function(){return d.default.options.positionClass="toast-bottom-center",d.default.options.preventDuplicates=!0,this},n.prototype.initAjax=function(){return $(document).on("ajaxStart",function(){s.default&&s.default.start()}),$(document).on("ajaxStop",function(){s.default&&s.default.done()}),this},n.prototype.context=function(n){return this.aurelia=n,this},n}();n.default=new l}),define("resources/index",["exports","./config"],function(n,r){"use strict";function e(n){return n&&n.__esModule?n:{default:n}}function t(n){o.default.context(n).initHttp().initToastr().initAjax(),n.globalResources(["resources/value-converters/vc-common","resources/attributes/attr-task","resources/attributes/attr-swipebox","resources/attributes/attr-pastable","resources/attributes/attr-autosize"])}Object.defineProperty(n,"__esModule",{value:!0}),n.configure=t;var o=e(r)}),define("user/user-login",["exports"],function(n){"use strict";function r(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.UserLogin=function(){function n(){r(this,n),this.username="",this.password=""}return n.prototype.attached=function(){$(this.rememberMeRef).checkbox()},n.prototype.loginHandler=function(){var n=this;$.get("/admin/login",function(r){var e=$(n.rememberMeRef).checkbox("is checked")?"on":"";$.post("/admin/signin",{username:n.username,password:n.password,"remember-me":e}).always(function(){var n=utils.urlQuery("redirect");n?window.location=decodeURIComponent(n):window.location=wurl("path")})})},n}()}),define("user/user-pwd-reset",["exports"],function(n){"use strict";function r(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.UserPwdReset=function(){function n(){r(this,n),this.mail="",this.pwd="",this.isReq=!1,this.token=utils.urlQuery("id")}return n.prototype.resetPwdHandler=function(){var n=this;return $(this.fm).form("is valid")?(this.isReq=!0,void http.fetch("/free/user/pwd/reset",{method:"post",body:json({mail:this.mail,baseUrl:utils.getBaseUrl(),path:wurl("path")})}).then(function(r){r.ok&&r.json().then(function(r){r.success?(toastr.success("重置密码邮件链接发送成功!"),_.delay(function(){window.location="/admin/login"},2e3)):(toastr.error(r.data,"重置密码邮件链接发送失败!"),n.isReq=!1)})})):void toastr.error("邮件地址输入不合法!")},n.prototype.newPwdHandler=function(){var n=this;return $(this.fm2).form("is valid")?(this.isReq=!0,void http.fetch("/free/user/pwd/new",{method:"post",body:json({token:this.token,pwd:this.pwd})}).then(function(r){r.ok&&r.json().then(function(r){r.success?(toastr.success("重置密码成功!"),_.delay(function(){window.location="/admin/login"},2e3)):(toastr.error(r.data,"重置密码失败!"),n.isReq=!1)})})):void toastr.error("新密码输入不合法!")},n.prototype.attached=function(){$(this.fm).form({on:"blur",inline:!0,fields:{mail:["empty","email"]}}),$(this.fm2).form({on:"blur",inline:!0,fields:{mail:["empty","minLength[8]"]}})},n}()}),define("user/user-register",["exports"],function(n){"use strict";function r(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.ViewModel=function(){function n(){r(this,n),this.header="账户激活页面"}return n.prototype.activate=function(n,r,e){var t=this;n.id&&(this.token=n.id,this.isReq=!0,this.header="账户激活中,请稍后...!",http.fetch("/free/user/register/activate",{method:"post",body:json({token:this.token})}).then(function(n){n.ok&&(n.json().then(function(n){n.success?t.header="账户激活成功,请返回登录页面登录!":(t.header="账户激活失败!",toastr.error(n.data,"账户激活失败!"))}),t.isReq=!1)}))},n.prototype.attached=function(){$(this.fm).form({on:"blur",inline:!0,fields:{username:{identifier:"username",rules:[{type:"empty"},{type:"minLength[3]"},{type:"regExp",value:/^[a-z]+[a-z0-9\.\-_]*[a-z0-9]+$/,prompt:"小写字母数字.-_组合,字母开头,字母数字结尾"}]},pwd:{identifier:"pwd",rules:[{type:"empty"},{type:"minLength[8]"}]},name:{identifier:"name",rules:[{type:"empty"},{type:"maxLength[20]"}]},mail:{identifier:"mail",rules:[{type:"empty"},{type:"email"}]}}})},n.prototype.okHandler=function(){var n=this;return $(this.fm).form("is valid")?(this.isReq=!0,void http.fetch("/free/user/register",{method:"post",body:json({username:this.username,pwd:this.pwd,name:this.name,mail:this.mail,baseUrl:utils.getBaseUrl(),path:wurl("path")})}).then(function(r){r.ok&&r.json().then(function(r){r.success?(toastr.success("注册成功,请通过接收到的激活邮件激活账户!"),_.delay(function(){window.location="/admin/login"},2e3)):(toastr.error(r.data,"注册失败!"),n.isReq=!1)})})):void toastr.error("账户注册信息输入不合法!")},n}()}),define("resources/attributes/attr-autosize",["exports","aurelia-framework","aurelia-templating","autosize"],function(n,r,e,t){"use strict";function o(n){return n&&n.__esModule?n:{default:n}}function i(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AttrAutosize=void 0;var a,d,s,l=o(t);n.AttrAutosize=(a=(0,e.customAttribute)("autosize"),d=(0,r.inject)(Element),a(s=d(s=function(){function n(r){i(this,n),this.element=r}return n.prototype.valueChanged=function(n,r){(0,l.default)(this.element)},n.prototype.bind=function(n){this.valueChanged(this.value)},n.prototype.unbind=function(){l.default.destroy(this.elements)},n}())||s)||s)}),define("resources/attributes/attr-pastable",["exports","aurelia-framework","aurelia-templating","common/common-plugin","paste"],function(n,r,e){"use strict";function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AttrPastable=void 0;var o,i,a;n.AttrPastable=(o=(0,e.customAttribute)("pastable"),i=(0,r.inject)(Element),o(a=i(a=function(){function n(r){t(this,n),this.element=r;
}return n.prototype.valueChanged=function(n,r){var e=this;$(this.element).pastableTextarea().on("pasteImage",function(n,r){$.post("/admin/file/base64",{dataURL:r.dataURL,type:r.blob.type},function(n,r,t){n.success&&$(e.element).insertAtCaret("![{name}]({baseURL}{path}{uuidName})".replace(/\{name\}/g,n.data.name).replace(/\{baseURL\}/g,utils.getBaseUrl()+"/").replace(/\{path\}/g,n.data.path).replace(/\{uuidName\}/g,n.data.uuidName))})}).on("pasteImageError",function(n,r){toastr.error(r.message,"剪贴板粘贴图片错误!")})},n.prototype.bind=function(n){this.valueChanged(this.value)},n}())||a)||a)}),define("resources/attributes/attr-swipebox",["exports","aurelia-framework","aurelia-templating","swipebox"],function(n,r,e){"use strict";function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AttrSwipebox=void 0;var o,i,a;n.AttrSwipebox=(o=(0,e.customAttribute)("swipebox"),i=(0,r.inject)(Element),o(a=i(a=function(){function n(r){t(this,n),this.element=r}return n.prototype.valueChanged=function(n,r){var e=this;$(this.element).on("click","img",function(r){r.preventDefault();var t=($(r.target),[]),o=0;$(e.element).find("img").each(function(n,e){t.push({href:$(e).attr("src"),title:$(e).attr("alt")}),r.target==e&&(o=n)}),$.swipebox(t,{useCSS:!0,useSVG:!0,initialIndexOnArray:o,hideCloseButtonOnMobile:!1,removeBarsOnMobile:!0,hideBarsDelay:3e3,videoMaxWidth:1140,beforeOpen:function(){},afterOpen:null,afterClose:function(){},loopAtEnd:!!n})})},n.prototype.bind=function(n){this.valueChanged(this.value)},n}())||a)||a)}),define("resources/attributes/attr-task",["exports","aurelia-dependency-injection","aurelia-templating"],function(n,r,e){"use strict";function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AttrTask=void 0;var o,i,a;n.AttrTask=(o=(0,e.customAttribute)("task"),i=(0,r.inject)(Element),o(a=i(a=function(){function n(r){t(this,n),this.task=null,this.bindingCtx=null,this.element=r}return n.prototype.valueChanged=function(n){this.task=n,_.isFunction(this.task)&&_.bind(this.task,this.bindingCtx,this.element)()},n.prototype.bind=function(n){this.bindingCtx=n,this.valueChanged(this.value)},n.prototype.unbind=function(){this.element=null,this.task=null,this.bindingCtx=null},n}())||a)||a)}),define("resources/elements/em-confirm-modal",["exports","aurelia-framework"],function(n,r){"use strict";function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.EmConfirmModal=void 0;n.EmConfirmModal=function(){function n(){e(this,n),this.config={}}return n.prototype.detached=function(){$(this.md).remove()},n.prototype.attached=function(){var n=this;$(this.md).modal({closable:!1,onApprove:function(){n.onapprove&&n.onapprove()},onDeny:function(){n.ondeny&&n.ondeny()}})},n.prototype.reset=function(){this.config={title:"操作确认",content:"确定要执行该操作吗?",warning:!1}},n.prototype.show=function(n){this.reset(),n&&(this.config=_.extend(this.config,n)),n&&n.onapprove&&(this.onapprove=n.onapprove),n&&n.ondeny&&(this.ondeny=n.ondeny),$(this.md).modal("show")},n.prototype.hide=function(){$(this.md).modal("hide")},n}()}),define("resources/value-converters/vc-common",["exports","jquery-format","timeago"],function(n){"use strict";function r(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TimeagoValueConverter=n.NumberValueConverter=n.DateValueConverter=n.LowerValueConverter=n.UpperValueConverter=void 0;var e=timeago();n.UpperValueConverter=function(){function n(){r(this,n)}return n.prototype.toView=function(n){return n&&n.toUpperCase()},n}(),n.LowerValueConverter=function(){function n(){r(this,n)}return n.prototype.toView=function(n){return n&&n.toLowerCase()},n}(),n.DateValueConverter=function(){function n(){r(this,n)}return n.prototype.toView=function(n){var r=arguments.length<=1||void 0===arguments[1]?"yyyy-MM-dd hh:mm:ss":arguments[1];return _.isInteger(_.toNumber(n))?$.format.date(new Date(n),r):n?n:""},n}(),n.NumberValueConverter=function(){function n(){r(this,n)}return n.prototype.toView=function(n){var r=arguments.length<=1||void 0===arguments[1]?"#,##0.00":arguments[1];return _.isNumber(_.toNumber(n))?$.format.number(n,r):n?n:""},n}(),n.TimeagoValueConverter=function(){function n(){r(this,n)}return n.prototype.toView=function(n){return n?e.format(n,"zh_CN"):""},n}()}),define("text!app.html",["module"],function(n){n.exports='<template>\r\n\t<require from="./app.css"></require>\r\n\t<require from="nprogress/nprogress.css"></require>\r\n\t<require from="toastr/build/toastr.css"></require>\r\n    <require from="tms-semantic-ui/semantic.min.css"></require>\r\n    <router-view></router-view>\r\n</template>\r\n'}),define("text!app.css",["module"],function(n){n.exports="html,\r\nbody {\r\n    height: 100%;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 6px;\r\n    height: 6px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n    border-radius: 6px;\r\n    background-color: #c6c6c6;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n    background: #999;\r\n}\r\n\r\n.tms-md450.ui.modal {\r\n    width: 450px!important;\r\n    margin-left: -225px!important;\r\n}\r\n\r\n.tms-md510.ui.modal {\r\n    width: 510px!important;\r\n    margin-left: -255px!important;\r\n}\r\n\r\n.tms-md540.ui.modal {\r\n    width: 540px!important;\r\n    margin-left: -275px!important;\r\n}\r\n\r\n/* for swipebox */\r\n#swipebox-overlay {\r\n    background: rgba(13, 13, 13, 0.5)!important;\r\n}\r\n"}),define("text!chat/chat-direct.html",["module"],function(n){n.exports='<template>\r\n    <require from="./chat-direct.css"></require>\r\n    <require from="./md-github.css"></require>\r\n    <require from="dropzone/dist/basic.css"></require>\r\n    <require from="swipebox/src/css/swipebox.min.css"></require>\r\n    <require from="resources/elements/em-confirm-modal"></require>\r\n    <div ref="chatContainerRef" class="tms-chat-direct">\r\n        <div class="ui top fixed menu">\r\n            <!-- <div class="item">\r\n                <i class="icon link sidebar"></i>\r\n            </div> -->\r\n            <!-- <a class="item header">私聊@${user.name ? user.name : chatTo}</a> -->\r\n            <div ref="chatToDropdownRef" class="ui dropdown link item">\r\n                <!-- <span style="font-weight: bold; font-size: 20px;">私聊</span> -->\r\n                <i class="big loading at icon"></i>\r\n                <!-- <i class="big icons">\r\n                    <i class="large loading sun icon"></i>\r\n                    <i class="at icon"></i>\r\n                </i> -->\r\n                <span class="text"></span>\r\n                <i class="dropdown icon"></i>\r\n                <div class="menu">\r\n                    <div class="ui icon search input">\r\n                        <i class="search icon"></i>\r\n                        <input type="text" placeholder="过滤私聊对象">\r\n                    </div>\r\n                    <div class="divider"></div>\r\n                    <div class="header">\r\n                        <i class="user icon"></i> 切换私聊对象\r\n                    </div>\r\n                    <div class="scrolling menu">\r\n                        <a repeat.for="item of users" task.bind="initChatToDropdownHandler($last)" href="#/chat-direct/${item.username}" class="item" title="${item.username}" data-value="${item.username}">\r\n                            <i class="circular icon user"></i> ${item.name}\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="right menu">\r\n                <a class="item">\r\n                    <i class="circular user icon"></i> ${loginUser.name}\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div ref="sidebarRef" class="ui left visible segment sidebar tms-left-sidebar">\r\n            <div class="tms-header">\r\n                <h1 class="ui header"><a href="/admin/dynamic?scroll=1">私聊频道</a></h1>\r\n                <input value.bind="filter" focusin.trigger="chatToUserFilerFocusinHanlder()" keyup.trigger="chatToUserFilerKeyupHanlder($event)" type="text" placeholder="私聊对象查找">\r\n                <i title="清空过滤输入" click.delegate="clearFilterHandler()" class="bordered close icon link small"></i>\r\n            </div>\r\n            <div ref="userListRef" class="ui middle aligned selection list">\r\n                <a repeat.for="item of users" title="${item.username}" show.bind="!item.hidden" href="#/chat-direct/${item.username}" class="item ${item.username == chatTo ? \'active\' : \'\'}" data-id="${item.username}">\r\n                    <i class="circular icon user"></i>\r\n                    <div class="content">\r\n                        <div style="color: black;">${item.name ? item.name : item.username}</div>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div class="tms-content">\r\n            <div class="tms-col w65">\r\n                <div ref="commentsRef" class="ui basic segment minimal selection list segment comments">\r\n                    <!-- <h3 class="ui dividing header">私聊内容</h3> -->\r\n                    <button if.bind="!last" click.delegate="lastMoreHandler()" class="fluid ui button">加载更多(${lastCnt})</button>\r\n                    <div repeat.for="item of chats" swipebox class="comment item ${item.id == markId ? \'active\' : \'\'}" data-id="${item.id}">\r\n                        <a class="avatar">\r\n                            <i class="circular icon large user"></i>\r\n                        </a>\r\n                        <div class="content">\r\n                            <a class="author">${item.creator.name}</a>\r\n                            <div class="metadata">\r\n                                <div class="date" data-timeago="${item.createDate}" title="${item.createDate | date}">${item.createDate | timeago}</div>\r\n                            </div>\r\n                            <div show.bind="!item.isEditing" class="text markdown-body" innerhtml.bind="item.contentMd"></div>\r\n                            <textarea ref="editTxtRef" pastable autosize focusout.trigger="focusoutHandler(item)" keydown.trigger="eidtKeydownHandler($event, item, editTxtRef)" show.bind="item.isEditing" value.bind="item.content" class="tms-edit-textarea" rows="1"></textarea>\r\n                            <div class="actions">\r\n                                <a if.bind="item.creator.username == loginUser.username" click.delegate="editHandler(item, editTxtRef)" class="tms-edit">编辑</a>\r\n                                <a if.bind="item.creator.username == loginUser.username" click.delegate="deleteHandler(item)" class="tms-delete">删除</a>\r\n                                <a class="tms-copy tms-clipboard" data-clipboard-text="${item.content}">复制</a>\r\n                                <a class="tms-share tms-clipboard" data-clipboard-text="${selfLink + \'?id=\' + item.id}">分享</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button if.bind="!first" click.delegate="firstMoreHandler()" class="fluid ui button">加载更多(${firstCnt})</button>\r\n                </div>\r\n                <div class="ui basic segment tms-msg-input dropzone">\r\n                    <div ref="inputRef" class="ui left action fluid icon input dropzone">\r\n                        <div ref="chatBtnRef" class="ui icon button">\r\n                            <i class="plus icon"></i>\r\n                        </div>\r\n                        <div class="ui flowing popup bottom left transition hidden">\r\n                            <div class="ui middle aligned selection list">\r\n                                <div ref="btnItemUploadRef" class="item">\r\n                                    <i class="upload icon"></i>\r\n                                    <div class="content">\r\n                                        上传文件\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <textarea ref="chatInputRef" pastable autosize value.bind="content" keydown.trigger="sendKeydownHandler($event, chatInputRef)" rows="1"></textarea>\r\n                        <i click.delegate="sendChatMsgHandler()" title="发送消息(Enter)" class="send link icon"></i>\r\n                    </div>\r\n                    <div ref="uploadProgressRef" class="tms-upload-progress dropzone-previews"></div>\r\n                </div>\r\n            </div>\r\n            <!-- <div class="tms-col w35"></div> -->\r\n        </div>\r\n    </div>\r\n    <div ref="previewTemplateRef" style="display: none;">\r\n        <div class="dz-preview dz-file-preview">\r\n            <div class="dz-details">\r\n                <div class="dz-filename"><span data-dz-name></span></div>\r\n                <div class="dz-size" data-dz-size></div>\r\n                <img data-dz-thumbnail />\r\n            </div>\r\n            <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\r\n            <div class="dz-success-mark"><span>✔</span></div>\r\n            <div class="dz-error-mark"><span>✘</span></div>\r\n            <div class="dz-error-message"><span data-dz-errormessage></span></div>\r\n        </div>\r\n    </div>\r\n    <em-confirm-modal em-confirm-modal.ref="emConfirmModal"></em-confirm-modal>\r\n</template>\r\n'}),define("text!chat/chat-direct.css",["module"],function(n){n.exports='.tms-chat-direct {\r\n    height: 100%;\r\n}\r\n\r\n.tms-chat-direct .top.fixed.menu {\r\n    padding-left: 220px;\r\n    height: 60px;\r\n}\r\n\r\n.tms-chat-direct .ui.left.sidebar {\r\n    width: 220px;\r\n}\r\n\r\n.tms-chat-direct .ui.left.sidebar .ui.list {\r\n    position: absolute;\r\n    bottom: 0;\r\n    top: 60px;\r\n    overflow-y: auto;\r\n    width: 190px;\r\n}\r\n\r\n.tms-chat-direct .ui.left.sidebar .tms-header {\r\n    height: 40px;\r\n}\r\n\r\n.tms-chat-direct .ui.left.sidebar .tms-header input {\r\n    border: 1px #e0e1e2 solid;\r\n    font-size: 12px;\r\n    padding: 4px;\r\n    /* border-radius: 3px; */\r\n    width: 190px;\r\n    /* border-top-right-radius: 10px;\r\n    border-bottom-right-radius: 10px; */\r\n}\r\n\r\n.tms-chat-direct .ui.left.sidebar .tms-header i.close.icon {\r\n    position: absolute;\r\n    right: 11px;\r\n    top: 45px;\r\n}\r\n\r\n.tms-chat-direct .ui.left.sidebar .tms-header .ui.header {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.tms-chat-direct .tms-content {\r\n    padding-top: 60px;\r\n    padding-left: 220px;\r\n    /* display: flex;\r\n    align-items: stretch; */\r\n    min-height: 100%;\r\n}\r\n\r\n.tms-chat-direct .tms-content .tms-col.w65 {\r\n    /* flex: auto; */\r\n}\r\n\r\n.tms-chat-direct .tms-content .tms-col.w35 {\r\n    width: 380px;\r\n    border-left: 1px #e0e1e2 solid;\r\n}\r\n\r\n.tms-chat-direct .ui.basic.segment.tms-msg-input {\r\n    position: fixed;\r\n    bottom: 0;\r\n    /* right: 30%; */\r\n    left: 220px;\r\n    right: 0;\r\n    background-color: white;\r\n    padding-bottom: 22px;\r\n}\r\n\r\n.tms-chat-direct .ui.basic.segment.tms-msg-input .tms-upload-progress {\r\n    /* height: 15px; */\r\n    position: absolute;\r\n    /* width: 97.5%; */\r\n    /* top: 5px; */\r\n    /* bottom: 5px; */\r\n    bottom: 65px;\r\n    background-color: #e0e1e2;\r\n    right: 15px;\r\n    left: 15px;\r\n    // min-height: 10px;\r\n}\r\n\r\n.tms-chat-direct .ui.basic.segment.tms-msg-input .tms-upload-progress .dz-preview {\r\n    display: block!important;\r\n    width: auto!important;\r\n}\r\n\r\n.tms-chat-direct .ui.comments {\r\n    margin-top: 20px;\r\n    margin-bottom: 50px;\r\n    max-width: none;\r\n}\r\n\r\n.tms-chat-direct .tms-msg-input .ui[class*="left action"].input>textarea {\r\n    border-top-left-radius: 0!important;\r\n    border-bottom-left-radius: 0!important;\r\n    border-left-color: transparent!important;\r\n}\r\n\r\n.tms-chat-direct .tms-msg-input .ui.icon.input textarea {\r\n    padding-right: 2.67142857em!important;\r\n}\r\n\r\n.tms-chat-direct .tms-msg-input .ui.input textarea {\r\n    margin: 0;\r\n    max-width: 100%;\r\n    -webkit-box-flex: 1;\r\n    -webkit-flex: 1 0 auto;\r\n    -ms-flex: 1 0 auto;\r\n    flex: 1 0 auto;\r\n    outline: 0;\r\n    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\r\n    text-align: left;\r\n    line-height: 1.2142em;\r\n    padding: .67861429em 1em;\r\n    background: #FFF;\r\n    border: 1px solid rgba(34, 36, 38, .15);\r\n    color: rgba(0, 0, 0, .87);\r\n    border-radius: .28571429rem;\r\n    box-shadow: none;\r\n}\r\n\r\n.tms-chat-direct .tms-edit-textarea {\r\n    width: 100%;\r\n}\r\n\r\n.tms-chat-direct .ui.selection.list>.item {\r\n    cursor: default;\r\n}\r\n\r\n@media only screen and (max-width: 767px) {\r\n    .tms-chat-direct .tms-left-sidebar {\r\n        display: none;\r\n    }\r\n    .tms-chat-direct .top.fixed.menu {\r\n        padding-left: 0;\r\n    }\r\n    .tms-chat-direct .tms-content {\r\n        padding-left: 0;\r\n    }\r\n    .tms-chat-direct .ui.basic.segment.tms-msg-input {\r\n        left: 0;\r\n    }\r\n}\r\n'}),define("text!user/user-login.html",["module"],function(n){n.exports='<template>\r\n    <require from="./user-login.css"></require>\r\n    <div class="tms-user-login">\r\n        <div class="container">\r\n            <h2 class="ui center aligned icon header">\r\n            <i class="circular users icon"></i> 用户登录\r\n            </h2>\r\n            <div class="ui form segment">\r\n                <div class="field">\r\n                    <div class="ui left icon input">\r\n                        <i class="user icon"></i>\r\n                        <input type="text" value.bind="username" placeholder="用户名" />\r\n                    </div>\r\n                </div>\r\n                <div class="field">\r\n                    <div class="ui left icon input">\r\n                        <i class="lock icon"></i>\r\n                        <input type="password" value.bind="password" placeholder="密码" />\r\n                    </div>\r\n                </div>\r\n                <div class="field">\r\n                    <div ref="rememberMeRef" class="ui checkbox">\r\n                        <input type="checkbox" name="remember-me" />\r\n                        <label>记住我在此计算机的登录(2周)</label>\r\n                    </div>\r\n                </div>\r\n                <div class="ui center aligned header">\r\n                    <button click.delegate="loginHandler()" class="ui submit fluid button ${isReq ? \'disabled\' : \'\'}">登录</button>\r\n                </div>\r\n                <div style="text-align: center; font-size:12px;">\r\n                    <a href="#/pwd-reset">忘记密码</a> &nbsp;&nbsp;\r\n                    <a href="#/register">注册用户</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n'}),define("text!chat/md-github.css",["module"],function(n){n.exports='.markdown-body {\r\n    font-size: 14px;\r\n    line-height: 1.6;\r\n}\r\n\r\n.markdown-body > br,\r\n.markdown-body ul br\r\n.markdown-body ol br {\r\n    display: none;\r\n}\r\n\r\n.markdown-body > *:first-child {\r\n    margin-top: 0 !important;\r\n}\r\n\r\n.markdown-body > *:last-child {\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\n.markdown-body a.absent {\r\n    color: #CC0000;\r\n}\r\n\r\n.markdown-body a.anchor {\r\n    bottom: 0;\r\n    cursor: pointer;\r\n    display: block;\r\n    left: 0;\r\n    margin-left: -30px;\r\n    padding-left: 30px;\r\n    position: absolute;\r\n    top: 0;\r\n}\r\n\r\n.markdown-body h1,\r\n.markdown-body h2,\r\n.markdown-body h3,\r\n.markdown-body h4,\r\n.markdown-body h5,\r\n.markdown-body h6 {\r\n    cursor: text;\r\n    font-weight: bold;\r\n    margin: 20px 0 10px;\r\n    padding: 0;\r\n    position: relative;\r\n}\r\n\r\n.markdown-body h1 .mini-icon-link,\r\n.markdown-body h2 .mini-icon-link,\r\n.markdown-body h3 .mini-icon-link,\r\n.markdown-body h4 .mini-icon-link,\r\n.markdown-body h5 .mini-icon-link,\r\n.markdown-body h6 .mini-icon-link {\r\n    color: #000000;\r\n    display: none;\r\n}\r\n\r\n.markdown-body h1:hover a.anchor,\r\n.markdown-body h2:hover a.anchor,\r\n.markdown-body h3:hover a.anchor,\r\n.markdown-body h4:hover a.anchor,\r\n.markdown-body h5:hover a.anchor,\r\n.markdown-body h6:hover a.anchor {\r\n    line-height: 1;\r\n    margin-left: -22px;\r\n    padding-left: 0;\r\n    text-decoration: none;\r\n    top: 15%;\r\n}\r\n\r\n.markdown-body h1:hover a.anchor .mini-icon-link,\r\n.markdown-body h2:hover a.anchor .mini-icon-link,\r\n.markdown-body h3:hover a.anchor .mini-icon-link,\r\n.markdown-body h4:hover a.anchor .mini-icon-link,\r\n.markdown-body h5:hover a.anchor .mini-icon-link,\r\n.markdown-body h6:hover a.anchor .mini-icon-link {\r\n    display: inline-block;\r\n}\r\n\r\n.markdown-body h1 tt,\r\n.markdown-body h1 code,\r\n.markdown-body h2 tt,\r\n.markdown-body h2 code,\r\n.markdown-body h3 tt,\r\n.markdown-body h3 code,\r\n.markdown-body h4 tt,\r\n.markdown-body h4 code,\r\n.markdown-body h5 tt,\r\n.markdown-body h5 code,\r\n.markdown-body h6 tt,\r\n.markdown-body h6 code {\r\n    font-size: inherit;\r\n}\r\n\r\n.markdown-body h1 {\r\n    color: #000000;\r\n    font-size: 28px;\r\n}\r\n\r\n.markdown-body h2 {\r\n    border-bottom: 1px solid #CCCCCC;\r\n    color: #000000;\r\n    font-size: 24px;\r\n}\r\n\r\n.markdown-body h3 {\r\n    font-size: 18px;\r\n}\r\n\r\n.markdown-body h4 {\r\n    font-size: 16px;\r\n}\r\n\r\n.markdown-body h5 {\r\n    font-size: 14px;\r\n}\r\n\r\n.markdown-body h6 {\r\n    color: #777777;\r\n    font-size: 14px;\r\n}\r\n\r\n.markdown-body p,\r\n.markdown-body blockquote,\r\n.markdown-body ul,\r\n.markdown-body ol,\r\n.markdown-body dl,\r\n.markdown-body table,\r\n.markdown-body pre {\r\n    margin: 15px 0;\r\n}\r\n\r\n.markdown-body hr {\r\n    overflow: hidden;\r\n    background: 0 0\r\n}\r\n\r\n.markdown-body hr:before {\r\n    display: table;\r\n    content: ""\r\n}\r\n\r\n.markdown-body hr:after {\r\n    display: table;\r\n    clear: both;\r\n    content: ""\r\n}\r\n\r\n.markdown-body hr {\r\n    height: 4px;\r\n    padding: 0;\r\n    margin: 16px 0;\r\n    background-color: #e7e7e7;\r\n    border: 0\r\n}\r\n\r\n.markdown-body hr {\r\n    -moz-box-sizing: content-box;\r\n    box-sizing: content-box\r\n}\r\n\r\n.markdown-body > h2:first-child,\r\n.markdown-body > h1:first-child,\r\n.markdown-body > h1:first-child + h2,\r\n.markdown-body > h3:first-child,\r\n.markdown-body > h4:first-child,\r\n.markdown-body > h5:first-child,\r\n.markdown-body > h6:first-child {\r\n    margin-top: 0;\r\n    padding-top: 0;\r\n}\r\n\r\n.markdown-body a:first-child h1,\r\n.markdown-body a:first-child h2,\r\n.markdown-body a:first-child h3,\r\n.markdown-body a:first-child h4,\r\n.markdown-body a:first-child h5,\r\n.markdown-body a:first-child h6 {\r\n    margin-top: 0;\r\n    padding-top: 0;\r\n}\r\n\r\n.markdown-body h1 + p,\r\n.markdown-body h2 + p,\r\n.markdown-body h3 + p,\r\n.markdown-body h4 + p,\r\n.markdown-body h5 + p,\r\n.markdown-body h6 + p {\r\n    margin-top: 0;\r\n}\r\n\r\n.markdown-body li p.first {\r\n    display: inline-block;\r\n}\r\n\r\n.markdown-body ul,\r\n.markdown-body ol {\r\n    padding-left: 30px;\r\n}\r\n\r\n.markdown-body ul.no-list,\r\n.markdown-body ol.no-list {\r\n    list-style-type: none;\r\n    padding: 0;\r\n}\r\n\r\n.markdown-body ul li > *:first-child,\r\n.markdown-body ol li > *:first-child {\r\n    margin-top: 0;\r\n}\r\n\r\n.markdown-body ul ul,\r\n.markdown-body ul ol,\r\n.markdown-body ol ol,\r\n.markdown-body ol ul {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.markdown-body dl {\r\n    padding: 0;\r\n}\r\n\r\n.markdown-body dl dt {\r\n    font-size: 14px;\r\n    font-style: italic;\r\n    font-weight: bold;\r\n    margin: 15px 0 5px;\r\n    padding: 0;\r\n}\r\n\r\n.markdown-body dl dt:first-child {\r\n    padding: 0;\r\n}\r\n\r\n.markdown-body dl dt > *:first-child {\r\n    margin-top: 0;\r\n}\r\n\r\n.markdown-body dl dt > *:last-child {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.markdown-body dl dd {\r\n    margin: 0 0 15px;\r\n    padding: 0 15px;\r\n}\r\n\r\n.markdown-body dl dd > *:first-child {\r\n    margin-top: 0;\r\n}\r\n\r\n.markdown-body dl dd > *:last-child {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.markdown-body blockquote {\r\n    border-left: 4px solid #DDDDDD;\r\n    color: #777777;\r\n    padding: 0 15px;\r\n}\r\n\r\n.markdown-body blockquote > *:first-child {\r\n    margin-top: 0;\r\n}\r\n\r\n.markdown-body blockquote > *:last-child {\r\n    margin-bottom: 0;\r\n}\r\n\r\n.markdown-body table th {\r\n    font-weight: bold;\r\n}\r\n\r\n.markdown-body table th,\r\n.markdown-body table td {\r\n    border: 1px solid #CCCCCC;\r\n    padding: 6px 13px;\r\n}\r\n\r\n.markdown-body table tr {\r\n    background-color: #FFFFFF;\r\n    border-top: 1px solid #CCCCCC;\r\n}\r\n\r\n.markdown-body table tr:nth-child(2n) {\r\n    background-color: #F8F8F8;\r\n}\r\n\r\n.markdown-body img {\r\n    max-width: 100%;\r\n}\r\n\r\n.markdown-body span.frame {\r\n    display: block;\r\n    overflow: hidden;\r\n}\r\n\r\n.markdown-body span.frame > span {\r\n    border: 1px solid #DDDDDD;\r\n    display: block;\r\n    float: left;\r\n    margin: 13px 0 0;\r\n    overflow: hidden;\r\n    padding: 7px;\r\n    width: auto;\r\n}\r\n\r\n.markdown-body span.frame span img {\r\n    display: block;\r\n    float: left;\r\n}\r\n\r\n.markdown-body span.frame span span {\r\n    clear: both;\r\n    color: #333333;\r\n    display: block;\r\n    padding: 5px 0 0;\r\n}\r\n\r\n.markdown-body span.align-center {\r\n    clear: both;\r\n    display: block;\r\n    overflow: hidden;\r\n}\r\n\r\n.markdown-body span.align-center > span {\r\n    display: block;\r\n    margin: 13px auto 0;\r\n    overflow: hidden;\r\n    text-align: center;\r\n}\r\n\r\n.markdown-body span.align-center span img {\r\n    margin: 0 auto;\r\n    text-align: center;\r\n}\r\n\r\n.markdown-body span.align-right {\r\n    clear: both;\r\n    display: block;\r\n    overflow: hidden;\r\n}\r\n\r\n.markdown-body span.align-right > span {\r\n    display: block;\r\n    margin: 13px 0 0;\r\n    overflow: hidden;\r\n    text-align: right;\r\n}\r\n\r\n.markdown-body span.align-right span img {\r\n    margin: 0;\r\n    text-align: right;\r\n}\r\n\r\n.markdown-body span.float-left {\r\n    display: block;\r\n    float: left;\r\n    margin-right: 13px;\r\n    overflow: hidden;\r\n}\r\n\r\n.markdown-body span.float-left span {\r\n    margin: 13px 0 0;\r\n}\r\n\r\n.markdown-body span.float-right {\r\n    display: block;\r\n    float: right;\r\n    margin-left: 13px;\r\n    overflow: hidden;\r\n}\r\n\r\n.markdown-body span.float-right > span {\r\n    display: block;\r\n    margin: 13px auto 0;\r\n    overflow: hidden;\r\n    text-align: right;\r\n}\r\n\r\n.markdown-body code,\r\n.markdown-body tt {\r\n    background-color: #F8F8F8;\r\n    border: 1px solid #EAEAEA;\r\n    border-radius: 3px 3px 3px 3px;\r\n    margin: 0 2px;\r\n    padding: 0 5px;\r\n    white-space: nowrap;\r\n}\r\n\r\n.markdown-body pre > code {\r\n    background: none repeat scroll 0 0 transparent;\r\n    border: medium none;\r\n    margin: 0;\r\n    padding: 0;\r\n    white-space: pre;\r\n}\r\n\r\n.markdown-body .highlight pre,\r\n.markdown-body pre {\r\n    background-color: #F8F8F8;\r\n    border: 1px solid #CCCCCC;\r\n    border-radius: 3px 3px 3px 3px;\r\n    font-size: 13px;\r\n    line-height: 19px;\r\n    overflow: auto;\r\n    padding: 6px 10px;\r\n}\r\n\r\n.markdown-body pre code,\r\n.markdown-body pre tt {\r\n    background-color: transparent;\r\n    border: medium none;\r\n}\r\n'}),define("text!user/user-pwd-reset.html",["module"],function(n){n.exports='<template>\r\n    <require from="./user-pwd-reset.css"></require>\r\n    <div class="ui container tms-user-pwd-reset">\r\n        <div class="tms-flex">\r\n            <div if.bind="!token" ref="fm" class="ui form segment" style="width: 260px;">\r\n                <div class="ui message">输入您的邮箱地址,我们会发送密码重置链接到您的邮箱!</div>\r\n                <div class="field">\r\n                    <label style="display:none;">邮件地址</label>\r\n                    <input type="text" name="mail" autofocus="" value.bind="mail" placeholder="输入您的邮件地址">\r\n                </div>\r\n                <div class="ui green fluid button ${isReq ? \'disabled\' : \'\'}" click.delegate="resetPwdHandler()">发送密码重置邮件</div>\r\n            </div>\r\n            <div if.bind="token" ref="fm2" class="ui form segment" style="width: 260px;">\r\n                <div class="ui message">设置您的新密码,密码长度要求至少8位字符!</div>\r\n                <div class="field">\r\n                    <label style="display:none;">新密码</label>\r\n                    <input type="password" name="mail" autofocus="" value.bind="pwd" placeholder="设置您的新密码">\r\n                </div>\r\n                <div class="ui green fluid button ${isReq ? \'disabled\' : \'\'}" click.delegate="newPwdHandler()">确认</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n'}),define("text!user/user-login.css",["module"],function(n){n.exports=".tms-user-login {\r\n    width: 100%;\r\n    min-height: 100%;\r\n    background-color: #5a3636;\r\n    overflow: hidden;\r\n}\r\n\r\n.tms-user-login .container {\r\n    width: 300px;\r\n    top: 50px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    position: relative;\r\n}\r\n\r\n.tms-user-login h2 {\r\n    color: rgba(197, 164, 164, 0.8)!important;\r\n}\r\n\r\n.tms-user-login .ui.form {\r\n    background-color: #353131;\r\n}\r\n\r\n.tms-user-login .ui.error.message {\r\n    background-color: #5a3636;\r\n}\r\n\r\n.tms-user-login .ui.error.message .header {\r\n    color: #e0b4b4;\r\n}\r\n\r\n.tms-user-login .ui.checkbox label {\r\n    color: #ad8b8b;\r\n}\r\n\r\n.tms-user-login .ui.checkbox input:focus~label {\r\n    color: #ad8b8b;\r\n}\r\n\r\n.tms-user-login .ui.checkbox label:hover {\r\n    color: #ad8b8b;\r\n}\r\n\r\n.tms-user-login .ui.button {\r\n    background-color: #5a3636;\r\n    color: #ad8b75;\r\n}\r\n"}),define("text!user/user-register.html",["module"],function(n){n.exports='<template>\r\n    <require from="./user-register.css"></require>\r\n    <div class="ui container tms-user-register">\r\n        <div class="tms-flex">\r\n            <div if.bind="!token" ref="fm" class="ui form segment" style="width: 280px;">\r\n                <div class="ui message">提交账户注册信息成功后,我们会向您的注册邮箱发送一封账户激活邮件,激活账户后即可登录!</div>\r\n                <div class="required field">\r\n                    <label>用户名</label>\r\n                    <input type="text" name="username" autofocus="" value.bind="username" placeholder="输入您的登录用户名">\r\n                </div>\r\n                <div class="required field">\r\n                    <label>密码</label>\r\n                    <input type="password" name="pwd" autofocus="" value.bind="pwd" placeholder="输入您的登录密码">\r\n                </div>\r\n                <div class="required field">\r\n                    <label>姓名</label>\r\n                    <input type="text" name="name" autofocus="" value.bind="name" placeholder="输入您的显示名称">\r\n                </div>\r\n                <div class="required field">\r\n                    <label>邮箱</label>\r\n                    <input type="text" name="mail" autofocus="" value.bind="mail" placeholder="输入您的账户激活邮箱">\r\n                </div>\r\n                <div class="ui green fluid button ${isReq ? \'disabled\' : \'\'}" click.delegate="okHandler()">确认</div>\r\n            </div>\r\n            <div if.bind="token" class="ui center aligned very padded segment" style="width: 320px;">\r\n            \t<h1 class="ui header">${header}</h1>\r\n            \t<a href="/admin/login" class="ui green button">返回登录页面</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n';
}),define("text!user/user-pwd-reset.css",["module"],function(n){n.exports=".tms-user-pwd-reset {\r\n    height: 100%;\r\n}\r\n\r\n.tms-user-pwd-reset .tms-flex {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n"}),define("text!resources/elements/em-confirm-modal.html",["module"],function(n){n.exports='<template>\r\n    <div ref="md" class="ui small modal nx-ui-confirm tms-md450">\r\n        <div class="header">\r\n            ${config.title}\r\n        </div>\r\n        <div class="content">\r\n            <i if.bind="config.warning" class="large yellow warning sign icon" style="float: left;"></i>\r\n            <i if.bind="!config.warning" class="large blue info circle icon" style="float: left;"></i>\r\n            <p style="margin-left: 20px;">\r\n                <span innerhtml.bind="config.content"></span>\r\n            </p>\r\n        </div>\r\n        <div class="actions">\r\n            <div class="ui cancel basic blue left floated button">取消</div>\r\n            <div class="ui ok blue button">确认</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n'}),define("text!user/user-register.css",["module"],function(n){n.exports=".tms-user-register {\r\n    height: 100%;\r\n}\r\n\r\n.tms-user-register .tms-flex {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n"});